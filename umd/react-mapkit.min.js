!(function(t, e) {
  'object' == typeof exports && 'object' == typeof module
    ? (module.exports = e(require('react')))
    : 'function' == typeof define && define.amd
      ? define(['react'], e)
      : 'object' == typeof exports
        ? (exports.ReactMapkit = e(require('react')))
        : (t.ReactMapkit = e(t.React))
})(window, function(t) {
  return (function(t) {
    var e = {}
    function n(o) {
      if (e[o]) return e[o].exports
      var a = (e[o] = { i: o, l: !1, exports: {} })
      return t[o].call(a.exports, a, a.exports, n), (a.l = !0), a.exports
    }
    return (
      (n.m = t),
      (n.c = e),
      (n.d = function(t, e, o) {
        n.o(t, e) ||
          Object.defineProperty(t, e, {
            configurable: !1,
            enumerable: !0,
            get: o,
          })
      }),
      (n.r = function(t) {
        Object.defineProperty(t, '__esModule', { value: !0 })
      }),
      (n.n = function(t) {
        var e =
          t && t.__esModule
            ? function() {
                return t.default
              }
            : function() {
                return t
              }
        return n.d(e, 'a', e), e
      }),
      (n.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
      }),
      (n.p = ''),
      n((n.s = 3))
    )
  })([
    function(e, n) {
      e.exports = t
    },
    function(t, e, n) {
      var o, a, r
      ;(o = {}),
        (a = 0),
        (r = function(t) {
          var e = document.getElementsByTagName('script')[0]
          e.parentNode.insertBefore(t, e)
        }),
        (t.exports = function(t, e, n) {
          var i
          e &&
            'function' != typeof e &&
            ((n = e.context || n), (i = e.setup), (e = e.callback))
          var s,
            c,
            p = document.createElement('script'),
            l = !1,
            u = function() {
              l || ((l = !0), c(), e && e.call(n, s))
            },
            f = function() {
              ;(s = new Error(t || 'EMPTY')), u()
            }
          if (!p.readyState || 'async' in p)
            (c = function() {
              p.onload = p.onerror = null
            }),
              (p.onerror = f),
              (p.onload = u),
              (p.async = !0),
              (p.charset = 'utf-8'),
              i && i.call(n, p),
              (p.src = t),
              r(p)
          else {
            var d = a++,
              h = { loaded: !0, complete: !0 },
              m = !1
            ;(c = function() {
              ;(p.onreadystatechange = p.onerror = null), (o[d] = void 0)
            }),
              (p.onreadystatechange = function() {
                var t = p.readyState
                if (!s) {
                  if (
                    (!m && h[t] && ((m = !0), r(p)),
                    'loaded' === t && (p.children, 'loading' === p.readyState))
                  )
                    return f()
                  'complete' === p.readyState && u()
                }
              }),
              (p.onerror = f),
              (o[d] = p),
              i && i.call(n, p),
              (p.src = t)
          }
        })
    },
    function(t, e, n) {
      'use strict'
      n.r(e)
      var o = n(0),
        a = n.n(o),
        r = n(1),
        i = n.n(r)
      function s(t, e) {
        if (!t)
          throw new ReferenceError(
            "this hasn't been initialised - super() hasn't been called",
          )
        return !e || ('object' != typeof e && 'function' != typeof e) ? t : e
      }
      !(function(t) {
        function e() {
          var n, o
          !(function(t, e) {
            if (!(t instanceof e))
              throw new TypeError('Cannot call a class as a function')
          })(this, e)
          for (var a = arguments.length, r = Array(a), i = 0; i < a; i++)
            r[i] = arguments[i]
          return (
            (n = o = s(this, t.call.apply(t, [this].concat(r)))),
            (o.state = { hasError: !1 }),
            s(o, n)
          )
        }
        ;(function(t, e) {
          if ('function' != typeof e && null !== e)
            throw new TypeError(
              'Super expression must either be null or a function, not ' +
                typeof e,
            )
          ;(t.prototype = Object.create(e && e.prototype, {
            constructor: {
              value: t,
              enumerable: !1,
              writable: !0,
              configurable: !0,
            },
          })),
            e &&
              (Object.setPrototypeOf
                ? Object.setPrototypeOf(t, e)
                : (t.__proto__ = e))
        })(e, t),
          (e.prototype.componentDidCatch = function() {
            this.setState({ hasError: !0 })
          }),
          (e.prototype.render = function() {
            return this.state.hasError
              ? o.createElement('h1', null, this.props.errorText)
              : this.props.children
          })
      })(o.Component)
      var c,
        p,
        l,
        u =
          Object.assign ||
          function(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = arguments[e]
              for (var o in n)
                Object.prototype.hasOwnProperty.call(n, o) && (t[o] = n[o])
            }
            return t
          }
      var f,
        d,
        h = a.a.createContext(),
        m = ((p = c = (function(t) {
          function e(n) {
            !(function(t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function')
            })(this, e)
            var o = (function(t, e) {
              if (!t)
                throw new ReferenceError(
                  "this hasn't been initialised - super() hasn't been called",
                )
              return !e || ('object' != typeof e && 'function' != typeof e)
                ? t
                : e
            })(this, t.call(this, n))
            return l.call(o), (o.mapRef = a.a.createRef()), o
          }
          return (
            (function(t, e) {
              if ('function' != typeof e && null !== e)
                throw new TypeError(
                  'Super expression must either be null or a function, not ' +
                    typeof e,
                )
              ;(t.prototype = Object.create(e && e.prototype, {
                constructor: {
                  value: t,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                e &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(t, e)
                    : (t.__proto__ = e))
            })(e, t),
            (e.prototype.componentDidMount = function() {
              var t = this
              i()(
                'https://cdn.apple-mapkit.com/mk/5.x.x/mapkit.js',
                function() {
                  return t.initMap(t.props)
                },
                this,
              )
            }),
            (e.prototype.shouldComponentUpdate = function(t) {
              return this.state.mapKitIsReady && this.updateMapProps(t), !0
            }),
            (e.prototype.componentWillUnmount = function() {
              this.map && this.map.destroy()
            }),
            (e.prototype.render = function() {
              var t = this.props,
                e = (t.tokenOrCallback,
                t.mapType,
                t.padding,
                t.showsCompass,
                t.showsMapTypeControl,
                t.showsZoomControl,
                t.showsUserLocationControl,
                t.showsPointsOfInterest,
                t.showsScale,
                t.tintColor,
                t.colorScheme,
                t.defaultCenter,
                t.defaultSpan,
                t.defaultMapRect,
                t.defaultRotation,
                t.animateViewChange,
                t.animateRotationChange,
                t.isRotationEnabled,
                t.isScrollEnabled,
                t.isZoomEnabled,
                t.showsUserLocation,
                t.tracksUserLocation,
                t.children),
                n = (t.regionChangeStartEvent,
                t.selectEvent,
                t.mapState,
                (function(t, e) {
                  var n = {}
                  for (var o in t)
                    e.indexOf(o) >= 0 ||
                      (Object.prototype.hasOwnProperty.call(t, o) &&
                        (n[o] = t[o]))
                  return n
                })(t, [
                  'tokenOrCallback',
                  'mapType',
                  'padding',
                  'showsCompass',
                  'showsMapTypeControl',
                  'showsZoomControl',
                  'showsUserLocationControl',
                  'showsPointsOfInterest',
                  'showsScale',
                  'tintColor',
                  'colorScheme',
                  'defaultCenter',
                  'defaultSpan',
                  'defaultMapRect',
                  'defaultRotation',
                  'animateViewChange',
                  'animateRotationChange',
                  'isRotationEnabled',
                  'isScrollEnabled',
                  'isZoomEnabled',
                  'showsUserLocation',
                  'tracksUserLocation',
                  'children',
                  'regionChangeStartEvent',
                  'selectEvent',
                  'mapState',
                ])),
                o = this.state.mapKitIsReady
              return a.a.createElement(
                'div',
                u({ ref: this.mapRef }, n),
                a.a.createElement(
                  h.Provider,
                  { value: this.map },
                  o &&
                    ('function' == typeof e
                      ? e({
                          setRotation: this.setRotation,
                          setCenter: this.setCenter,
                        })
                      : e),
                ),
              )
            }),
            e
          )
        })(o.Component)),
        (c.defaultProps = {
          mapType: 'standard',
          colorScheme: 'light',
          padding: 0,
          showsCompass: 'adaptive',
          showsMapTypeControl: !0,
          showsZoomControl: !0,
          showsUserLocationControl: !1,
          showsPointsOfInterest: !0,
          showsScale: 'hidden',
          animateViewChange: !0,
          isRotationEnabled: !0,
          isScrollEnabled: !0,
          isZoomEnabled: !0,
          showsUserLocation: !1,
          tracksUserLocation: !1,
          animateRotationChange: !0,
        }),
        (l = function() {
          var t = this
          ;(this.state = { mapKitIsReady: !1 }),
            (this.initMap = function(e) {
              var n = e.defaultCenter,
                o = e.defaultMapRect,
                a = e.defaultRotation,
                r = e.defaultSpan,
                i = e.tokenOrCallback,
                s = e.regionChangeStartEvent,
                c = e.selectEvent,
                p = e.mapState,
                l = i.includes('/')
              if (
                (mapkit.init({
                  authorizationCallback: function(t) {
                    l
                      ? fetch(i)
                          .then(function(t) {
                            return t.text()
                          })
                          .then(t)
                      : t(i)
                  },
                }),
                t.mapRef.current && (t.map = new mapkit.Map(t.mapRef.current)),
                a && (t.map.rotation = a),
                s &&
                  t.map.addEventListener('region-change-start', function(t) {
                    s(t)
                  }),
                c &&
                  t.map.addEventListener('select', function(t) {
                    c(t)
                  }),
                o)
              )
                try {
                  t.map.visibleMapRect = t.createMapRect(o[0], o[1], o[2], o[3])
                } catch (t) {
                  console.warn(t.message)
                }
              else t.buildRegion(n, r)
              t.updateMapProps(e),
                t.setState({ mapKitIsReady: !0 }),
                p && p(t.map)
            }),
            (this.buildRegion = function(e, n) {
              var o = t.createCoordinate(0, 0),
                a = void 0
              if (e) {
                try {
                  o = t.createCoordinate(e[0], e[1])
                } catch (t) {
                  console.warn(t.message)
                }
                if (n)
                  try {
                    a = t.createCoordinateSpan(n[0], n[1])
                  } catch (t) {
                    console.warn(t.message)
                  }
                a
                  ? t.map.setRegionAnimated(
                      t.createCoordinateRegion(o, a),
                      t.props.animateViewChange,
                    )
                  : t.map.setCenterAnimated(o, t.props.animateViewChange)
              }
            }),
            (this.updateMapProps = function(e) {
              ;(t.map.showsMapTypeControl = e.showsMapTypeControl),
                (t.map.mapType = e.mapType),
                (t.map.padding = t.createPadding(e.padding)),
                (t.map.showsCompass = e.showsCompass),
                (t.map.showsMapTypeControl = e.showsMapTypeControl),
                (t.map.showsZoomControl = e.showsZoomControl),
                (t.map.showsUserLocationControl = e.showsUserLocationControl),
                (t.map.showsPointsOfInterest = e.showsPointsOfInterest),
                (t.map.showsScale = e.showsScale),
                (t.map.tintColor = e.tintColor),
                (t.map.colorScheme = e.colorScheme),
                (t.map.isRotationEnabled = e.isRotationEnabled),
                (t.map.isScrollEnabled = e.isScrollEnabled),
                (t.map.isZoomEnabled = e.isZoomEnabled),
                (t.map.showsUserLocation = e.showsUserLocation),
                (t.map.tracksUserLocation = e.tracksUserLocation),
                (e.defaultCenter || e.defaultSpan) &&
                  t.buildRegion(e.defaultCenter, e.defaultSpan),
                e.mapState && e.mapState(t.map)
            }),
            (this.createPadding = function(t) {
              return new mapkit.Padding(
                'number' == typeof t
                  ? { top: t, right: t, bottom: t, left: t }
                  : t,
              )
            }),
            (this.createCoordinate = function(t, e) {
              return new mapkit.Coordinate(t, e)
            }),
            (this.createCoordinateSpan = function(t, e) {
              return new mapkit.CoordinateSpan(t, e)
            }),
            (this.createCoordinateRegion = function(t, e) {
              return new mapkit.CoordinateRegion(t, e)
            }),
            (this.createMapPoint = function(t, e) {
              return new mapkit.MapPoint(t, e)
            }),
            (this.createMapRect = function(t, e, n, o) {
              return new mapkit.MapRect(t, e, n, o)
            }),
            (this.setRotation = function(e) {
              t.map.setRotationAnimated(e, t.props.animateRotationChange)
            }),
            (this.setCenter = function(e) {
              var n = e[0],
                o = e[1]
              t.map.setCenterAnimated(
                t.createCoordinate(n, o),
                t.props.animateViewChange,
              )
            }),
            (this.setRegion = function(e, n) {
              t.map.setRegionAnimated(
                t.createCoordinateRegion(e, n),
                t.props.animateViewChange,
              )
            })
        }),
        p),
        y =
          Object.assign ||
          function(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = arguments[e]
              for (var o in n)
                Object.prototype.hasOwnProperty.call(n, o) && (t[o] = n[o])
            }
            return t
          }
      var w = ((f = (function(t) {
          function e(n) {
            !(function(t, e) {
              if (!(t instanceof e))
                throw new TypeError('Cannot call a class as a function')
            })(this, e)
            var o = (function(t, e) {
              if (!t)
                throw new ReferenceError(
                  "this hasn't been initialised - super() hasn't been called",
                )
              return !e || ('object' != typeof e && 'function' != typeof e)
                ? t
                : e
            })(this, t.call(this, n))
            d.call(o)
            var a = o.getMarkerConstructionProps(n)
            return (
              (o.marker = new mapkit.MarkerAnnotation(
                new mapkit.Coordinate(n.latitude, n.longitude),
                a,
              )),
              o.props.map.addAnnotation(o.marker),
              o
            )
          }
          return (
            (function(t, e) {
              if ('function' != typeof e && null !== e)
                throw new TypeError(
                  'Super expression must either be null or a function, not ' +
                    typeof e,
                )
              ;(t.prototype = Object.create(e && e.prototype, {
                constructor: {
                  value: t,
                  enumerable: !1,
                  writable: !0,
                  configurable: !0,
                },
              })),
                e &&
                  (Object.setPrototypeOf
                    ? Object.setPrototypeOf(t, e)
                    : (t.__proto__ = e))
            })(e, t),
            (e.prototype.shouldComponentUpdate = function(t) {
              var e = this
              ;(this.props.latitude === t.latitude &&
                this.props.longitude === t.longitude) ||
                (this.marker.coordinate = new mapkit.Coordinate(
                  t.latitude,
                  t.longitude,
                ))
              var n = this.getMarkerConstructionProps(t)
              return (
                Object.keys(n).forEach(function(t) {
                  e.marker[t] = n[t]
                }),
                !1
              )
            }),
            (e.prototype.render = function() {
              return null
            }),
            e
          )
        })(o.Component)),
        (d = function() {
          this.getMarkerConstructionProps = function(t) {
            t.map, t.latitude, t.longitude
            return (function(t, e) {
              var n = {}
              for (var o in t)
                e.indexOf(o) >= 0 ||
                  (Object.prototype.hasOwnProperty.call(t, o) && (n[o] = t[o]))
              return n
            })(t, ['map', 'latitude', 'longitude'])
          }
        }),
        f),
        C = function(t) {
          return a.a.createElement(h.Consumer, null, function(e) {
            return a.a.createElement(w, y({}, t, { map: e }))
          })
        }
      n.d(e, 'MapKit', function() {
        return m
      }),
        n.d(e, 'MapKitContext', function() {
          return h
        }),
        n.d(e, 'Marker', function() {
          return C
        })
    },
    function(t, e, n) {
      t.exports = n(2)
    },
  ]).default
})
//# sourceMappingURL=react-mapkit.min.js.map
